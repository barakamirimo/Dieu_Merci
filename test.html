<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Compatibilit√© - Portfolio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button {
            background: #0a7689;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #004e92;
        }
    </style>
</head>
<body>
    <h1>üß™ Test de Compatibilit√© du Portfolio</h1>
    
    <div class="test-section">
        <h2>Informations du Navigateur</h2>
        <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
        <p><strong>Langue:</strong> <span id="language"></span></p>
        <p><strong>Cookies activ√©s:</strong> <span id="cookies"></span></p>
        <p><strong>JavaScript activ√©:</strong> <span class="success">‚úÖ Oui</span></p>
    </div>

    <div class="test-section">
        <h2>Test des Fonctionnalit√©s JavaScript</h2>
        <p id="testArray">Array.from: <span class="info">Test en cours...</span></p>
        <p id="testHistory">History API: <span class="info">Test en cours...</span></p>
        <p id="testLocalStorage">LocalStorage: <span class="info">Test en cours...</span></p>
        <p id="testConsole">Console: <span class="info">Test en cours...</span></p>
    </div>

    <div class="test-section">
        <h2>Test des √âv√©nements</h2>
        <button onclick="testClick()">Test Click</button>
        <button onclick="testTouch()">Test Touch</button>
        <button onclick="testKeyboard()">Test Keyboard</button>
        <p id="eventResult"></p>
    </div>

    <div class="test-section">
        <h2>Test des Ressources</h2>
        <p id="resourceTest"></p>
    </div>

    <div class="test-section">
        <h2>R√©sultat Global</h2>
        <p id="globalResult"></p>
        <button onclick="location.reload()">Recharger les Tests</button>
        <button onclick="window.location.href='index.html'">Aller au Portfolio</button>
    </div>

    <script>
        // Test des informations du navigateur
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('language').textContent = navigator.language || navigator.userLanguage;
        document.getElementById('cookies').textContent = navigator.cookieEnabled ? '‚úÖ Oui' : '‚ùå Non';

        // Test Array.from
        try {
            const testArray = Array.from('test');
            document.getElementById('testArray').innerHTML = 'Array.from: <span class="success">‚úÖ Fonctionne</span>';
        } catch(e) {
            document.getElementById('testArray').innerHTML = 'Array.from: <span class="error">‚ùå Non support√©</span>';
        }

        // Test History API
        try {
            if (typeof history !== 'undefined' && history.pushState) {
                document.getElementById('testHistory').innerHTML = 'History API: <span class="success">‚úÖ Fonctionne</span>';
            } else {
                document.getElementById('testHistory').innerHTML = 'History API: <span class="error">‚ùå Non support√©</span>';
            }
        } catch(e) {
            document.getElementById('testHistory').innerHTML = 'History API: <span class="error">‚ùå Erreur</span>';
        }

        // Test LocalStorage
        try {
            localStorage.setItem('test', 'ok');
            localStorage.removeItem('test');
            document.getElementById('testLocalStorage').innerHTML = 'LocalStorage: <span class="success">‚úÖ Fonctionne</span>';
        } catch(e) {
            document.getElementById('testLocalStorage').innerHTML = 'LocalStorage: <span class="error">‚ùå Non support√©</span>';
        }

        // Test Console
        try {
            console.log('Test console');
            document.getElementById('testConsole').innerHTML = 'Console: <span class="success">‚úÖ Fonctionne</span>';
        } catch(e) {
            document.getElementById('testConsole').innerHTML = 'Console: <span class="error">‚ùå Non disponible</span>';
        }

        // Test des √©v√©nements
        function testClick() {
            document.getElementById('eventResult').innerHTML = '<span class="success">‚úÖ √âv√©nement click fonctionne</span>';
        }

        function testTouch() {
            if ('ontouchstart' in window) {
                document.getElementById('eventResult').innerHTML = '<span class="success">‚úÖ √âv√©nements tactiles support√©s</span>';
            } else {
                document.getElementById('eventResult').innerHTML = '<span class="info">‚ÑπÔ∏è √âv√©nements tactiles non support√©s (normal sur desktop)</span>';
            }
        }

        function testKeyboard() {
            document.getElementById('eventResult').innerHTML = '<span class="success">‚úÖ √âv√©nement keyboard fonctionne</span>';
        }

        // Test des ressources
        const resources = ['logo.png', 'Dieume.jpg', 'style.css', 'script.js'];
        let loadedResources = 0;
        
        resources.forEach(resource => {
            const img = new Image();
            img.onload = function() {
                loadedResources++;
                updateResourceTest();
            };
            img.onerror = function() {
                updateResourceTest();
            };
            img.src = resource;
        });

        function updateResourceTest() {
            const result = document.getElementById('resourceTest');
            if (loadedResources === resources.length) {
                result.innerHTML = '<span class="success">‚úÖ Toutes les ressources sont accessibles</span>';
            } else {
                result.innerHTML = `<span class="info">‚ÑπÔ∏è ${loadedResources}/${resources.length} ressources charg√©es</span>`;
            }
        }

        // R√©sultat global
        setTimeout(() => {
            const allTests = document.querySelectorAll('.success').length;
            const allElements = document.querySelectorAll('.success, .error').length;
            const percentage = Math.round((allTests / allElements) * 100);
            
            let resultText = '';
            if (percentage >= 90) {
                resultText = `<span class="success">‚úÖ Excellent (${percentage}%) - Le site devrait fonctionner parfaitement</span>`;
            } else if (percentage >= 70) {
                resultText = `<span class="info">‚ÑπÔ∏è Bon (${percentage}%) - Le site devrait fonctionner avec quelques limitations</span>`;
            } else {
                resultText = `<span class="error">‚ùå Faible (${percentage}%) - Il peut y avoir des probl√®mes de compatibilit√©</span>`;
            }
            
            document.getElementById('globalResult').innerHTML = resultText;
        }, 2000);

        // √âcouter les √©v√©nements clavier
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('eventResult').innerHTML = '<span class="success">‚úÖ Touche √âchap d√©tect√©e</span>';
            }
        });
    </script>
</body>
</html>

